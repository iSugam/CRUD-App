<%- include("partials/header") -%>
<%- include("nav") -%>

<div class="container d-flex justify-content-center align-items-start w-100">
    <div class="row mt-5 w-100 d-flex justify-content-center gap-5">
        <% articles.forEach(article =>  { %>
                <div class="card col col-lg-5 mt-3">
                    <div class="card-body">
                    <h4 class="card-title"><%= article.title %></h4>
                    <p class="card-subtitle mt-2 text-muted"><%= article.publishDate.toLocaleDateString() %></p>
                    <% if(article.description.length > 50) { %>
                        <article class="card-text"><%=article.description.slice(0, 50)%>... <a href="/fullpost/<%=article._id%>" class="btn btn-link">Read More</a> </article>
                    <% } else{ %>
                        <article class="card-text"><%=article.description %> </article>
                   <% } %>
                    
                    <a href="/article/<%= article._id %>" class="btn btn-info mt-2"><i class="bi bi-pencil-square"></i></a>
                    <a href="/article/delete/<%=article._id%>" onclick="return confirm('Are you sure ?')" class="btn btn-dark mt-2"><i class="bi bi-trash3-fill"></i></a>
                </div>
                </div>
        <% }) %>
    </div>
</div>
<%- include("partials/footer") -%>